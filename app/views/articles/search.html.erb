<h3>投稿を検索</h3>
<form action="">
  <input type="text" name="search" id="search">
  <input type="submit" name="submit" value="検索する" class="onSend">
</form>

<div id="ajax_search">
  <%= render partial: 'ajax_search', locals: { articles: @articles } %>
</div>

<%# <%= link_to "新規投稿へ", new_tweet_path %> %>


<script>
$(document).ready(function() {
  // $(document).on('input', '#search', function() {
  //   inputValue = $('#search').val()
  //   console.log(inputValue)
  // });
  $('.onSend').click(function (e) {
    e.preventDefault();
    inputValue = $('#search').val()
    console.log(inputValue)

    $.ajax({
      type: 'GET', // リクエストのタイプ
      url: '/ajax_search', // リクエストを送信するURL
      data:  { inputValue: inputValue }, //日本語などを考慮してエンコード済み
      dataType: 'json' // サーバーから返却される型
    })
    .done(function(data){
      console.log(data)
    })
    .fail(function(){
      // console.log('aaa')
    });
  });
});
</script>